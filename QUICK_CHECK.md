# 🚀 快速查看实时数据功能

## ✅ 已完成更新

### 1. 数据同步频率提升 12倍
- ⏱️ **之前**：每 2 小时同步一次
- ⚡ **现在**：每 10 分钟同步一次

### 2. 仪表盘新增今日实时数据
- 📊 显示今天的6个关键健康指标
- 🔄 每5分钟自动刷新
- 🔘 支持手动刷新按钮

## 📍 立即查看

### 访问实时仪表盘
```
http://localhost:3000/dashboard
```

### 实时数据包含
1. 😴 **睡眠分数** - 今日睡眠质量
2. 🚶 **步数** - 当前累计步数
3. ❤️ **静息心率** - 当前心率 (bpm)
4. 🔋 **身体电量** - 能量水平
5. 💪 **HRV** - 心率变异性 (ms)
6. 😌 **压力水平** - 压力指数

## 🔍 验证功能

### 1. 检查后端服务
```bash
curl http://localhost:8000/health
# 应该返回: {"status":"healthy"}
```

### 2. 检查同步日志
查看后端日志，应该看到：
```
Garmin 后台同步调度器已启动，间隔: 10 分钟
```

### 3. 测试实时数据
1. 打开 `http://localhost:3000/dashboard`
2. 查看顶部"今日实时数据"区域
3. 观察"最后更新"时间
4. 点击"手动刷新"按钮测试

## 📊 数据刷新机制

```
┌─────────────────────────────────────┐
│  Garmin Connect                     │
│  (你的手环/手表数据)                  │
└───────────┬─────────────────────────┘
            │
            │ 每10分钟自动同步
            ↓
┌─────────────────────────────────────┐
│  本地数据库                          │
│  (最新3天的数据)                     │
└───────────┬─────────────────────────┘
            │
            │ 前端每5分钟自动查询
            │ 或点击手动刷新
            ↓
┌─────────────────────────────────────┐
│  仪表盘页面                          │
│  (今日实时数据展示)                  │
└─────────────────────────────────────┘
```

## 🎯 使用建议

### 早晨起床后
1. 打开仪表盘查看昨晚睡眠数据
2. 查看今日身体电量和恢复状态
3. 根据数据规划今日活动

### 运动后
1. 刷新查看最新步数
2. 查看心率和压力水平
3. 确认身体恢复情况

### 晚上睡前
1. 查看今日完整数据
2. 对比目标完成情况
3. 为明天做准备

## 📈 性能提升

| 指标 | 之前 | 现在 | 提升 |
|-----|------|------|------|
| 后台同步间隔 | 2小时 | 10分钟 | **12倍** |
| 数据新鲜度 | 最多延迟2小时 | 最多延迟10分钟 | **12倍** |
| 前端刷新 | 手动刷新 | 自动+手动 | **更便捷** |
| 实时性 | 低 | 高 | **显著提升** |

## 🔧 自定义配置

### 修改后端同步频率
编辑 `backend/app/scheduler.py`:
```python
# 改为你想要的间隔（单位：分钟）
async def scheduler_loop(interval_minutes: int = 10):
```

推荐值：
- 5分钟：极速同步（消耗资源多）
- 10分钟：快速同步（推荐，当前）✅
- 30分钟：正常同步
- 60分钟：省电模式

### 修改前端刷新频率
编辑 `frontend/src/app/dashboard/page.tsx`:
```typescript
refetchInterval: 5 * 60 * 1000, // 5分钟（可调整）
```

推荐值：
- 1分钟：超快刷新
- 5分钟：快速刷新（推荐，当前）✅
- 10分钟：正常刷新

## 🎉 现在就试试！

1. **打开浏览器**
   ```
   http://localhost:3000/dashboard
   ```

2. **查看实时数据**
   - 在页面顶部看到紫蓝色渐变的实时数据区
   - 显示今天的6个健康指标

3. **测试刷新**
   - 点击右上角"手动刷新"按钮
   - 观察"最后更新"时间变化

4. **体验自动刷新**
   - 保持页面打开5分钟
   - 数据会自动更新

## 📚 更多文档

- 详细说明：[DASHBOARD_REALTIME_UPDATE.md](./DASHBOARD_REALTIME_UPDATE.md)
- 目标管理：[GOAL_MANAGEMENT_GUIDE.md](./backend/GOAL_MANAGEMENT_GUIDE.md)
- 项目架构：[ARCHITECTURE.md](./ARCHITECTURE.md)

## 💡 提示

- 🔔 数据每10分钟从Garmin同步一次
- 🔄 页面每5分钟自动刷新一次
- 🔘 可随时点击"手动刷新"获取最新数据
- ⏰ 注意查看"最后更新"时间戳

开始享受实时健康数据监控吧！⚡📊

